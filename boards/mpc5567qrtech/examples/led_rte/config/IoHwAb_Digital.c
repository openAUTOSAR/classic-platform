/*
* Configuration of module: IoHwAb (IoHwAb_Digital.c)
*
* Created by:              
* Copyright:               
*
* Configured for (MCU):    MPC5567
*
* Module vendor:           ArcCore
* Generator version:       3.1.3
*
* Generated by Arctic Studio (http://arccore.com) 
*/

#include "IoHwAb.h"
#include "IoHwAb_Internal.h"
#if defined(USE_DIO)
#include "Dio.h"
#else

#if defined(USE_DET)
#include "Det.h"
#endif

#error "DIO Module is needed by IOHWAB"
#endif
/************************************ External Device Drivers *************************************/

/***************************************** Signal states ******************************************/

boolean IoHwAb_DigitalSignal_Red_Led_Locked = IOHWAB_UNLOCKED;
IoHwAb_LevelType IoHwAb_DigitalSignal_Red_Led_Saved = IOHWAB_LOW;
const IoHwAb_LevelType IoHwAb_DigitalSignal_Red_Led_Default = IOHWAB_LOW;

/**************************************** Digital outputs *****************************************/

/******************************** DigitalSignal_Red_Led functions *********************************/

Std_ReturnType IoHwAb_Set_Digital_DigitalSignal_Red_Led(IoHwAb_LevelType newValue, IoHwAb_StatusType *status) {
	Std_ReturnType rv = E_OK;
	Dio_LevelType setLevel = 0;
	IoHwAb_QualityType q = IOHWAB_GOOD;

	if (IOHWAB_UNLOCKED == IoHwAb_DigitalSignal_Red_Led_Locked) {
		setLevel = (Dio_LevelType) newValue;
	} else {
		setLevel = (Dio_LevelType) IoHwAb_DigitalSignal_Red_Led_Saved;
	}

	Dio_WriteChannel(DIO_CHANNEL_NAME_RED_LED, setLevel);
	status->quality = q;

	return rv;
}

Std_ReturnType IoHwAb_Dcm_DigitalSignal_Red_Led(uint8 action, IoHwAb_LevelType value) {
	imask_t state;
	Std_ReturnType rv = E_OK;

	switch (action) {
	case IOHWAB_RETURNCONTROLTOECU:
		IoHwAb_DigitalSignal_Red_Led_Locked = IOHWAB_UNLOCKED;
		break;

	case IOHWAB_RESETTODEFAULT:
		IoHwAb_LockSave(state);
		IoHwAb_DigitalSignal_Red_Led_Saved = IoHwAb_DigitalSignal_Red_Led_Default;
		IoHwAb_DigitalSignal_Red_Led_Locked = IOHWAB_LOCKED;
		IoHwAb_LockRestore(state);
		break;

	case IOHWAB_FREEZECURRENTSTATE:
		if (IOHWAB_UNLOCKED == IoHwAb_DigitalSignal_Red_Led_Locked) {
			IoHwAb_LockSave(state);
			IoHwAb_DigitalSignal_Red_Led_Saved = Dio_ReadChannel(DIO_CHANNEL_NAME_RED_LED);
			IoHwAb_DigitalSignal_Red_Led_Locked = IOHWAB_LOCKED;
			IoHwAb_LockRestore(state);
		}
		break;

	case IOHWAB_SHORTTERMADJUST:
		IoHwAb_LockSave(state);
		IoHwAb_DigitalSignal_Red_Led_Saved = value;
		IoHwAb_DigitalSignal_Red_Led_Locked = IOHWAB_LOCKED;
		IoHwAb_LockRestore(state);
		break;

	default:
		rv = E_NOT_OK;
		break;
	}

	return rv;
}

/***************************************** Digital inputs *****************************************/

/************************************* Parameterized digital **************************************/

Std_ReturnType IoHwAb_Set_Digital(IoHwAb_SignalType signal, IoHwAb_LevelType newValue, IoHwAb_StatusType *status) {

	IOHWAB_VALIDATE_RETURN(IOHWAB_SIGNAL_IS_VALID_DIGITAL_OUTPUT(signal), IOHWAB_DIGITAL_SET_ID, IOHWAB_E_PARAM_SIGNAL, E_NOT_OK);

	switch (signal) {
	case IOHWAB_SIGNAL_DIGITALSIGNAL_RED_LED: {
		return IoHwAb_Set_Digital_DigitalSignal_Red_Led(newValue, status);
	}
		break;

	default: {
		return E_NOT_OK;
	}
		break;
	}
}

Std_ReturnType IoHwAb_Get_Digital(IoHwAb_SignalType signal, IoHwAb_LevelType *value, IoHwAb_StatusType *status) {

	IOHWAB_VALIDATE_RETURN(IOHWAB_SIGNAL_IS_VALID_DIGITAL_INPUT(signal), IOHWAB_DIGITAL_GET_ID, IOHWAB_E_PARAM_SIGNAL, E_NOT_OK);

	switch (signal) {
	default: {
		return E_NOT_OK;
	}
	}
}

